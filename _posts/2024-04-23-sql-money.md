---
title: How to query the Sky-Tortoise Westminster database
date: 2024-04-23
permalink: /posts/2024/04/blog-post-20/
tags:
  - SQL
  - MPs
  - money 
---

You can look up your MP or even just your postcode on [the website](https://news.sky.com/story/westminster-accounts-search-for-your-mp-or-enter-your-full-postcode-12771627), and the methodology explains [how it works](https://www.tortoisemedia.com/2023/01/08/the-westminster-accounts-methodology/). It points out that the data is restricted to the current Parliament.

*It only includes donations, payments, members, all-party parliamentary groups and parties that were made or have operated from 19 December 2019 onwards.* 

Crucially, it says that the three sources behind the database

*will be updated on an ongoing basis. Every time a new register or version of is published, the data will be collected, cleaned, tested and then added to the database.*

Simon Willison pulled out a [SQLite database](https://lite.datasette.io/?sql=https://gist.github.com/simonw/ee4d5938016b10c490f7efa03c4bf185) last year which we can query in detail. There is a datasette instance online but below I’ve used the [standalone database](https://static.simonwillison.net/static/2023/sky-westminster-files.db) he produced, by querying it with the online query tool [SQLIME](https://sqlime.org/. 

It looks like his database is over a year old, but he’s supplied the code and tools, [in his walkthrough](https://til.simonwillison.net/shot-scraper/scraping-flourish), to make a fresh scrape of the Sky-Tortoise database. Below we use his old database — until I figure out how to run his code.

What’s in the database? Seven tables are explained on the datasette.

<img src="/images/sql_money_pics/tables.jpg" alt="drawing" width="600"/>

**Payments to people**

The payments table is the main attraction here, with over 10,000 rows but the tables for the All-Party Parliamentary Groups (APPGs) are worth a look too. 

```
SELECT COUNT(*) FROM payments 
WHERE description LIKE '%opera%';
```

In the declared payments there are 39 records that mention ‘rugby’, 44 involving ‘opera’, 328 involving ‘flight’ and 616 involving ‘tickets’. There are 40 involving ‘family’, 34 with ‘wife’ and eight with ‘husband’.

```
SELECT * FROM payments 
WHERE description LIKE '%use of%'
```

The phrase ‘use of’ shows us what people borrow or get to use: offices, venues and meeting rooms, airport lounges, holiday homes abroad, cars, planes and software. There are 180 locations listed for visits: Gavin Williamson and Alun Cairns have been to Somaliland, for example.



